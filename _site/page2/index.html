<html lang="pt-BR">
<head>
	<meta charset=utf-8 />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/css/style.css">
	<title>  Jakson Rochelly's Blog </title>
</head>
<body>

	<div id="wrapper">

		<header>
			<a href="/" id="logo">
				<img src="/img/logo.png" alt="Jakson Rochelly's Blog logo">
			</a>

			<nav>
				<ul>
					<li><a href="/">Início</a></li>
					<li><a href="#">Sobre</a></li>
					<li><a href="/archive/">Arquivo</a></li>
				</ul>
			</nav>
		</header>

		<section class="blog_posts">
					
	        
	        <article class="post">

			    <div class="content">
			    	<h1><a href="/2011/07/agendar-tarefas-whenever">Agendar tarefas com whenever gem</a></h1>
				    <p class="post_info">11 July, 2011</p>

				    <p>A utilização de tarefas agendadas é bastante útil para, por exemplo, excluir logs a cada 15 dias, indexar mecanismos de busca e vários outros.</p>

<p>Quero mostrar pra vocês uma gema que estou utilizando no meu mais novo projeto, <a href="https://github.com/javan/whenever">Whenever</a>.</p>

<p>Do github:</p>

<blockquote><p>Whenever is a Ruby gem that provides a clear syntax for writing and deploying cron jobs.</p></blockquote>

<p>Assim, você não precisa aprender ou colar toda vez que precisar de um Cron job.</p>

<p>Comparação:</p>

<p>Cron job</p>

<pre><code>0 23 1,15 * * /bin/bash -i -l -c ‘cd /home/jrochelly/Projetos/myapp &amp;&amp; rails runner -e development MyModel.method » /home/jrochelly/Projetos/myapp/log/cron.log 2&gt;&amp;1’
</code></pre>

<p>Whenever</p>

<pre><code>every 1.minute do
    runner “MyModel.method”
end 
</code></pre>

<p>Muito semelhante né?
Para instalar a gem siga os passos que estão <a href="https://github.com/javan/whenever">aqui</a>! (Não vou reescrever o que está escrito =P )</p>

<p>Dica: Se quiser rodar um método de um Model, você precisa adicionar self.</p>

<p>Assim um método <b>def nome_metodo</b> fica <b>def self.nome_metodo</b>. Por quê?
Porque é necessário um class method ao invés de uma instância.</p>

<p>Eu bati cabeça nessa parte, pois nada é explicado nesse sentido no README da gema. A minha salvação foi quando pesquisava sobre o mesmo problema para a gem rufus-scheduler e encontrei <a href="https://groups.google.com/forum/#!topic/rufus-ruby/BzSzC2X6XXc">esse post</a> no google groups.</p>

<p>UPDATE:</p>

<p>Caso você tenha algum problema como script/rails não funcionar, você adicionar as seguintes linhas no config/schedule.rb:</p>

<pre><code>set :output, “#{path}/log/cron.log”
set :environment, ‘development’ # Para funcionar em desenvolvimento
job_type :runner, “cd :path &amp;&amp; rails runner -e :environment :task :output”
set :job_template, “/bin/bash -i -l -c ‘:job’” 
</code></pre>

<p>Uma alternativa ao whenever é o <a href="https://github.com/jmettraux/rufus-scheduler/">rufus-scheduler</a> que tem uma sintaxe similar e vale a pena dar uma conferida!</p>

<p>É isso pessoal, espero que esse post sirva de ajuda!</p>

			    </div>

			</article>

        
	        
	        <article class="post">

			    <div class="content">
			    	<h1><a href="/2011/07/can-be-flagged">Conheça Can_be_flagged gem</a></h1>
				    <p class="post_info">10 July, 2011</p>

				    <p>Gostaria de apresentar a vocês a Gem <a href="https://github.com/danhixon/can_be_flagged">can_be_flagged</a>.</p>

<p>Ela permite que você tenha uma opção como “sinalizar” um conteúdo. É bastante útil quando se trata de conteúdo vindo dos usuários do sistema, assim, os próprios usuários podem sinalizar como spam ou algo parecido.</p>

<p>Para instalar é muito fácil:</p>

<p>rode <i>gem install can_be_flagged</i> ou então, adicione <i>gem ‘can_be_flagged’</i> para o arquivo Gemfile e então rode “bundle install”</p>

<p>Depois disso, você já pode gerar sua model:</p>

<p>Rails 3:</p>

<pre><code>rails g flags
</code></pre>

<p>Em seguida migre seu banco de dados:</p>

<pre><code>rake db:migrate
</code></pre>

<p>Sua configuração é bem simples, dá uma olhada:</p>

<p>Na model Post:</p>

<pre><code>class Post &lt; ActiveRecord::Base 
    can_be_flagged
end
</code></pre>

<p>é também interessante adicionar uma coluna para contagem de flags:</p>

<pre><code>add_column :posts, :flags_count, :integer
</code></pre>

<p> por último, edite o model Flag para:</p>

<pre><code>class Flag &lt; ActiveRecord::Base
    belongs_to :flaggable, :polymorphic=&gt;true, :counter_cache=&gt;true
end
</code></pre>

<p>A implementação na model fica por sua conta, veja o exemplo que fiz:</p>

<pre><code>class PropertiesController &lt; ApplicationController
  def denunciar
    @last_user_flag = Flag.where("user_id = ? AND flaggable_id = ?", current_user.id, params[:pid]).last
    if @last_user_flag.nil?
      @flag = Flag.create(:comment =&gt; "I am offended by that!", :flaggable_id =&gt; params[:pid], :user_id =&gt; current_user.id)
      @flag.save
      redirect_to :back, :notice =&gt; "Obrigado por colaborar!"
    else
      @last_user_flag.destroy
      redirect_to :back, :notice =&gt; "Sua denuncia foi exluída!"
    end
  end
end
</code></pre>

<p>Para mais detalhes de implementação, clique aqui!
Espero que tenha sido útil! Em breve posto mais! Abraços!</p>

			    </div>

			</article>

        
	        
	        <article class="post">

			    <div class="content">
			    	<h1><a href="/2011/06/lado-nerd">O lado Nerd</a></h1>
				    <p class="post_info">07 June, 2011</p>

				    <p>Existem razões para qualquer coisas que se faça, amor, ódio, vingança, são os mais comuns. Mas existem um lado que me impede de por exemplo seguir numa rodovia a 80km/h sendo o certo 40km/h, este lado é o lado Nerd.</p>

<p><img src="/img/posts/lado_nerd.gif"></p>

<p>Pode parecer estranho, mas tem sempre algo me dizendo que eu não deveria fazer isso ou aquilo, apesar de ser legal ou interessante, a sensação de estar errado ou não seguir a lei em determinadas ocasiões me proíbe de continuar. Estou sendo paranóico ou só mais nerd? Bem que eu queria saber.</p>

<p>De fato, nerds fazem coisas erradas também. Mas você sabe o ditado popular “Existe o lado certo e o lado Nerd”… ok, não existe tal ditado, mas… olhando de um jeito nerd, nós fazemos várias coisas erradas, só que a chamamos de arranjo técnico/workaround ou guambiarra para os íntimos.</p>

<p>Bem, resumindo tudo Certo != Nerd!</p>

			    </div>

			</article>

        
	        
	        <article class="post">

			    <div class="content">
			    	<h1><a href="/2011/06/nao-ha-codigo-mais-flexivel-que">Não há código mais flexível que nenhum código</a></h1>
				    <p class="post_info">07 June, 2011</p>

				    <p><img src="/img/posts/codigo_flexivel.gif"></p>

<p>Essa postagem é tirada do blog do Brad Appleton, pois achei o texto bastande interessante e importante de ser repassado. Vale a pena a leitura!</p>

<p>Brad fala que o que ele acredita sobre o “espaço negativo” - chamado por Christopher Alexander - na arquitetura de software é:</p>

<blockquote><p>Não há CÓDIGO mais flexível que NENHUM código!</p></blockquote>

<p>O “segredo” para um bom design de software não é saber o que por no código e sim, o que não por lá. É saber reconhecer onde estão os locais certos e também deixar um espaço ao invés de tentar se entupir em mais design.</p>

<p>Fonte: <a href="bradapp.blogspot.com">bradapp.blogspot.com</a></p>

			    </div>

			</article>

        
	        
	        <article class="post">

			    <div class="content">
			    	<h1><a href="/2011/03/rails-db-problemas">Rails, BDs e seu problemas</a></h1>
				    <p class="post_info">22 March, 2011</p>

				    <p>Nesses últimos dias, tentei instalar um banco de dados no lugar do SQLite, Primeiramente o PostgreSQL, sem sucesso, pois os drives para rails simplesmente não instalavam e os que instalavam não conseguia ativar sua execução. Mudei para o MySQL, não consegui e não faço ideia de por que não.</p>

<p>Nisso tentei mudei o projeto para o Windows 7, e consegui, depois de muita peleja, instalar o MySQL e seu driver.</p>

<p>Depois de ter conseguido, pensei, se consegui no Windows, consigo no Linux, e lá fui eu tentar. Por incrível que parece, ele aceitou numa boa.</p>

<p>O meu erro foi ter usado o adapter configurado para mysql, sendo que o certo é usa-lo com mysql2. Tive esse problema pois o projeto foi começado com o SQLite, e não sabia os termos corretos para configurar o MySQL.</p>

<p>E O PostgreSQL? Não consegui, o ruby-pg que é padrão, nem instala. Aí força a amizade!</p>

			    </div>

			</article>

        
	        
	        <article class="post">

			    <div class="content">
			    	<h1><a href="/2011/03/palestra-empreendemia">Palestra Empreendemia</a></h1>
				    <p class="post_info">19 March, 2011</p>

				    <p><img src="/img/posts/empreendemia_1.jpg"></p>

<p><img src="/img/posts/empreendemia_2.jpg"></p>

<p>Ontem às 18h aconteceu um palestra no IFPI do <a href="http://marcuslinhares.blogspot.com/">Marcus Linhares</a> de Picos, a palestra foi muito boa! Ele abordou sobre as encubadoras e empresas júnior, um passo muito bom pra quem quer começar. Claro que eu marquei presença, afinal estou montando minha empresa (juntamente com o <a href="http://www.twitter.com/valterlles">Fernando</a> e o <a href="http://www.twitter.com/oRenne">Rennê</a>), a Conptus.</p>

<p>Tirando as encubadoras de lado, também é possível ir nesse mundão dos negócios dando a cara a tapas. Meu amigo Luciano não tem muito tempo que monteu seu site de notícias com seus amigos, o <a href="http://florianoblitz.com/">FlorianoBlitz</a>. Assim também, espero que a Conptus também siga seu caminho com sucesso.</p>

<p>Também desejo que meus colegas <a href="http://jamessilva.com.br/">James</a> e Johlânio consigam e, principalmente, me convidem pro churrasco de inauguração =P.</p>

			    </div>

			</article>

        
	        
	        <article class="post">

			    <div class="content">
			    	<h1><a href="/2011/03/media-queries">Flexibilidade com CSS Media Queries</a></h1>
				    <p class="post_info">09 March, 2011</p>

				    <p>Bem, esse assunto não é muito novo, mas gostaria de compartilhar com vocês.</p>

<p><img src="/img/posts/mediaquery.png"></p>

<p>Nas minhas navegadas pela net encontrei uma apresentação em slides muito boa sobre Media Queries no CSS3 e resolvi postar sobre o assunto.</p>

<p>Uma Media query permite que você mude o layout sem mudar o conteúdo. Simples Assim! Dessa forma, seu site pode ser visto em vários dispositivos e resoluções diferentes, por exemplo, no iPhone não apareceria as barras de rolagem horizontais pois seu site estaria ajustado à largura do aparelho.</p>

<p>Abaixo o slide que eu vi. Confira:</p>

<iframe src="http://www.slideshare.net/slideshow/embed_code/4072954" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen webkitallowfullscreen mozallowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="http://www.slideshare.net/maxdesign/css3-media-queries" title="CSS3 Media Queries" target="_blank">CSS3 Media Queries</a> </strong> from <strong><a href="http://www.slideshare.net/maxdesign" target="_blank">Russ Weakley</a></strong> </div></p>

			    </div>

			</article>

        

<ol class="nav_pagination">
    <li class="pagination_prev">
        
        
            <a href="/">« Anterior</a>
        
        
    </li><!--
    
 --><li class="pagination_next">
        
            <a href="/page3">Próxima »</a>
        
    </li>
</ol>
		</section>

	</div>

	<footer>
		<p>&copy; 2013 <a href="http://twitter.com/jrochelly">Jakson Rochelly</a>.
       Built with <a href="https://github.com/mojombo/jekyll/">Jekyll</a>.
       The source of this blog is <a href="https://github.com/jrochelly/jrochelly.github.com/">on GitHub</a>.<br>
       You can <a href="http://feeds.feedburner.com/jrochelly">grab the RSS feed</a> and really <a href="http://twitter.com/jrochelly">follow me on Twitter</a>.</p>
	</footer>

</body>
</html>